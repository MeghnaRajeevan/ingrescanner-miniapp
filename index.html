<!DOCTYPE html>
<html>
<head>
<style>
  video { width: 100%; height: auto; background: #333; }
  button { padding: 20px; font-size: 20px; margin: 20px; }
</style>
</head>
<body>
<h2>Camera Test</h2>
<video id="vid" autoplay muted playsinline></video>
<div id="log"></div>
<button onclick="startCam()">Start Camera</button>

<script>
async function startCam() {
    const log = document.getElementById('log');
    const vid = document.getElementById('vid');
    
    try {
        log.innerHTML = "Requesting camera...";
        // WE ASK FOR THE SIMPLEST CAMERA POSSIBLE (No HD, No Zoom)
        const stream = await navigator.mediaDevices.getUserMedia({ 
            video: { facingMode: 'environment' } 
        });
        
        log.innerHTML = "Stream received. Playing...";
        vid.srcObject = stream;
        
        // Force play
        await vid.play();
        log.innerHTML += "<br>Video shouldn't be black now.";
        
    } catch (err) {
        log.innerHTML = "ERROR: " + err.name + ": " + err.message;
        alert("Error: " + err.message);
    }
}
</script>
</body>
</html>
